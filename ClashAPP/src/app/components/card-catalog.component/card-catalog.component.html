<div class="catalog-container">

  <h2 class="title">ğŸ“˜ CatÃ¡logo de Cartas</h2>

  <!-- FILTROS -->
  <div class="filters">

    <!-- BUSCADOR -->
    <input
      type="text"
      class="search-input"
      placeholder="ğŸ” Buscar carta..."
      [value]="searchTerm()"
      (input)="onSearch($event)" />

    <button
      [class.active]="sortField() === 'name'"
      (click)="setSort('name')">
      ğŸ”¤ Nombre
      <span>{{ sortField() === 'name' ? (sortDir() === 'asc' ? 'â¬†' : 'â¬‡') : '' }}</span>
    </button>

    <button
      [class.active]="sortField() === 'elixir'"
      (click)="setSort('elixir')">
      ğŸ’§ Elixir
      <span>{{ sortField() === 'elixir' ? (sortDir() === 'asc' ? 'â¬†' : 'â¬‡') : '' }}</span>
    </button>

    <button
      [class.active]="sortField() === 'rarity'"
      (click)="setSort('rarity')">
      ğŸ’ Rareza
      <span>{{ sortField() === 'rarity' ? (sortDir() === 'asc' ? 'â¬†' : 'â¬‡') : '' }}</span>
    </button>
  </div>

  <div class="cards-grid" *ngIf="cards().length">

    <div
      class="card reorder-animate"
      *ngFor="let card of cards()"
      [ngClass]="card.rarity.toLowerCase()">

      <!-- ELIXIR -->
      <div class="elixir-drop">
        <span>{{ card.elixirCost }}</span>
      </div>

      <!-- BADGES -->
      <div class="badges">
        <span *ngIf="card.hasEvolution" class="badge evo">âš¡</span>
        <span *ngIf="card.hasHero" class="badge hero">ğŸ‘‘</span>
      </div>

      <!-- IMAGE -->
      <div class="image-wrapper"
           [class.has-carousel]="card.images.length > 1"
           [style.--count]="card.images.length">

        <img
          *ngFor="let img of card.images; let i = index"
          [src]="img"
          class="card-image"
          [style.--i]="i"/>
      </div>

      <!-- TEXTO -->
      <h3 class="card-name">{{ card.name }}</h3>

      <div class="stats">
        <span>â­ Nivel mÃ¡x: 16</span>
        <br/><br/>
        <span>ğŸ†” {{ card.id }}</span>
        <br/><br/>
        <span>ğŸ·ï¸ Rareza: {{ card.rarity }}</span>
      </div>

    </div>

  </div>
</div>
